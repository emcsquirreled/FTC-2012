<!DOCTYPE html>
<html>
	<head>
		<title>Controlling the NXT with a Raspberry Pi</title>
	</head>
	<body>
		<h1>Controlling the NXT with a Raspberry Pi</title>
			<h2>Purpose</h2>
				<p>The motivation behind this project was to seriously upgrade the available processing power of a FTC robot, with an untimate goal of 
				creating a basic AI program to hand all the unexpected aspects of the Autonomous Mode.</p>
			<h2>The Raspberry Pi</h2>
				<p>The Raspberry Pi is a small, low-power, $35 computer designed to bring computer education to those who could not otherwise get any. 
				It is also a great platform for projects such as FTC, as it is beefy enough to do some serious calculations, with a 700MHz ARM processor 
				and 256MB of RAM running a Debian fork, while still being flexible enough to run on a robot, as it only requires 5V at 300mA, and has 
				26 general purpose I/O pins.</p>
			<h2>The Idea</h2>
				<p>Our plan was to change the NXT from a master device to a slave device. The rules published by FIRST place the following limits on the 
				control of the robot:</p>
				<ol>
					<li>The Samantha must be plugged directly into the NXT.</li>
					<li>LEGO and HiTechnic sensors and controllers must be plugged directly into the NXT.</li>
					<li>Custom circuits of any kind can be attached to the SuperPro prototyping board, <em>if</em> they only communiticate through 
					and draw power from the named connections.</li>
				</ol>
				<p>This list says <em>nothing</em> about what can be behind the SuperPro, what is communicated via the SuperPro, and how the NXT treats 
				SuperPro circuits. Thus, if we have a networking protocol which can be implemented over the SuperPro's 8 1-way digital I/O pins, it is 
				perfectly legal to run a Raspberry Pi behind the SuperPro. A further advantage is that there is no limit to the software run behind 
				the SuperPro. Thus, instead of using the subset of C provided by RobotC, the Raspberry Pi could be programmed in ASM, Fortran, 
				Pascal, COBOL, Visual BASIC, C++, Java, PHP, bash, or whatever langues works best.</p>
				<p>Once we have the Raspberry Pi running and talking with the NXT, the possibilities are endless. We decided to make the Raspberry Pi a 
				"master" device, and the NXT a "slave" device. This means that the Raspberry Pi is the main brain of our robot. The Raspberry Pi will 
				send messages to the NXT requesting the value of a sensor, or messages from Samantha. The NXT will then respond with the appropriate 
				information. The Raspberry Pi will then process the input and then send an action to the NXT. The NXT will recieve the message and move 
				the motors and servos appropriately. [Should I keep or drop the pseudo-code?] In pseudo-code, this is our robot's layout:</p>
				<ul>
					<li>START:</li>
					<li>Raspberry Pi asks NXT for input</li>
					<li>NXT sends information to Raspberry Pi</li>
					<li>Raspberry Pi recieves information</li>
					<li>Raspberry Pi processes information</li>
					<li>Raspberry Pi logs information to filesystem (optional)</li>
					<li>Raspberry Pi sends action requests to NXT (optional)</li>
					<li>GOTO START</li>
				</ul>
			<h2>The Result</h2>
				<p>Unfortunately, we are not using this system on our robot this year. The power requirements of the Raspberry Pi are 5V at 300mA. The 
				SuperPro provides <em>either</em> 5V <em>or</em> 300mA. There is just no way to get enough power to the Raspberry Pi. This became 
				evident after our Raspberry Pi arrived and we had begun to develop the software. Until FIRST decides to allow teams more freedom on the 
				electrical aspects of their robots, systems such as the one we developed will not be feasible [feasable? spelling?] for FTC teams. Never 
				the less, this project was immensly [sp.] valuable, as we learned a multitude of things about operating systems, networking protocols, 
				embedded electronics, and many other details.</p>
	</body>
</html>
